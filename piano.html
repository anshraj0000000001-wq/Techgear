<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>anshprogramer Piano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap');

        body {
            margin: 0;
            overflow: hidden;
            background: radial-gradient(circle at center, #1a2a3a 0%, #000000 100%);
            font-family: 'Montserrat', sans-serif;
            touch-action: none;
        }

        .piano-container {
            display: flex;
            width: 100vw;
            height: 100vh;
            padding: 40px 10px 0 10px;
            box-sizing: border-box;
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.6) 100%);
            perspective: 1200px;
        }

        .key {
            flex: 1;
            margin: 0 2px;
            border-radius: 0 0 12px 12px;
            position: relative;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 30px;
            cursor: pointer;
            transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 15px rgba(0,0,0,0.5);
        }

        /* Premium White Key */
        .white-key {
            background: linear-gradient(to bottom, #ffffff 0%, #f0f0f0 85%, #d9d9d9 100%);
            z-index: 1;
            border: 1px solid rgba(255,255,255,0.4);
        }

        .white-key.active {
            background: linear-gradient(to bottom, #fff 0%, #00f2fe 100%);
            transform: translateY(12px) rotateX(-3deg);
            box-shadow: 0 0 40px rgba(0, 242, 254, 0.6);
        }

        /* Premium Black Key */
        .black-key {
            background: linear-gradient(145deg, #2c2c2c, #000);
            width: 7%;
            height: 55%;
            margin-left: -3.5%;
            margin-right: -3.5%;
            z-index: 2;
            border-radius: 0 0 8px 8px;
            border-top: 6px solid #111;
            box-shadow: 5px 10px 25px rgba(0,0,0,0.9);
        }

        .black-key::after {
            content: '';
            position: absolute;
            top: 0; left: 15%; width: 70%; height: 3px;
            background: rgba(0, 242, 254, 0.4);
            border-radius: 2px;
        }

        .black-key.active {
            background: linear-gradient(to bottom, #333 0%, #00f2fe 100%);
            transform: translateY(6px);
            box-shadow: 0 0 30px rgba(0, 242, 254, 0.5);
        }

        .key-label {
            pointer-events: none;
            font-weight: 600;
            font-size: 11px;
            color: #888;
            letter-spacing: 1px;
            opacity: 0.6;
        }

        .black-key .key-label {
            color: #00f2fe;
            margin-bottom: 15px;
        }

        /* Branding & Controls */
        #header {
            position: absolute;
            top: 15px;
            width: 100%;
            padding: 0 30px;
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            color: #00f2fe;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            letter-spacing: 2px;
            font-size: 20px;
            text-transform: lowercase;
            text-shadow: 0 0 20px rgba(0, 242, 254, 0.7);
        }

        .brand span {
            color: #fff;
        }

        .btn-group {
            display: flex;
            gap: 12px;
        }

        .glass-btn {
            background: rgba(0, 242, 254, 0.05);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 242, 254, 0.2);
            color: #fff;
            padding: 8px 18px;
            border-radius: 8px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: 0.3s;
        }

        .glass-btn:hover {
            background: rgba(0, 242, 254, 0.2);
            border-color: #00f2fe;
            box-shadow: 0 0 15px rgba(0, 242, 254, 0.3);
        }

        /* Orientation Helper */
        #orientation-overlay {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 1000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #00f2fe;
            text-align: center;
            padding: 20px;
        }

        .icon-rotate {
            font-size: 60px;
            margin-bottom: 25px;
            animation: rotate 2.5s infinite ease-in-out;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(90deg); }
            75% { transform: rotate(90deg); }
            100% { transform: rotate(0deg); }
        }
    </style>
</head>
<body>

    <div id="orientation-overlay">
        <div class="icon-rotate">ðŸ“±</div>
        <h2 class="text-2xl font-bold tracking-widest">ANSHPROGRAMER</h2>
        <p class="mt-3 opacity-60 uppercase text-xs tracking-widest">Switch to landscape for pro mode</p>
    </div>

    <div id="header">
        <div class="brand">ansh<span>programer</span></div>
        <div class="btn-group">
            <button class="glass-btn" onclick="toggleLabels()">Labels</button>
            <button class="glass-btn" id="toneBtn" onclick="changeTone()">Rich Tone</button>
        </div>
    </div>

    <div class="piano-container" id="piano">
        <!-- Generated by JS -->
    </div>

    <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let currentOscType = 'triangle';
        const activeNotes = new Map();

        const notes = [
            { note: 'C4', freq: 261.63, type: 'white' },
            { note: 'C#4', freq: 277.18, type: 'black' },
            { note: 'D4', freq: 293.66, type: 'white' },
            { note: 'D#4', freq: 311.13, type: 'black' },
            { note: 'E4', freq: 329.63, type: 'white' },
            { note: 'F4', freq: 349.23, type: 'white' },
            { note: 'F#4', freq: 369.99, type: 'black' },
            { note: 'G4', freq: 392.00, type: 'white' },
            { note: 'G#4', freq: 415.30, type: 'black' },
            { note: 'A4', freq: 440.00, type: 'white' },
            { note: 'A#4', freq: 466.16, type: 'black' },
            { note: 'B4', freq: 493.88, type: 'white' },
            { note: 'C5', freq: 523.25, type: 'white' },
            { note: 'C#5', freq: 554.37, type: 'black' },
            { note: 'D5', freq: 587.33, type: 'white' },
            { note: 'D#5', freq: 622.25, type: 'black' },
            { note: 'E5', freq: 659.25, type: 'white' }
        ];

        const piano = document.getElementById('piano');

        function startNote(noteName, freq) {
            if (activeNotes.has(noteName)) return;

            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            const filter = audioCtx.createBiquadFilter();

            osc.type = currentOscType;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);

            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(2500, audioCtx.currentTime);

            gain.gain.setValueAtTime(0, audioCtx.currentTime);
            gain.gain.linearRampToValueAtTime(0.4, audioCtx.currentTime + 0.04);

            osc.connect(filter);
            filter.connect(gain);
            gain.connect(audioCtx.destination);

            osc.start();
            activeNotes.set(noteName, { osc, gain });
        }

        function stopNote(noteName) {
            const noteData = activeNotes.get(noteName);
            if (noteData) {
                const { osc, gain } = noteData;
                const releaseTime = 0.4;
                gain.gain.cancelScheduledValues(audioCtx.currentTime);
                gain.gain.setValueAtTime(gain.gain.value, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + releaseTime);
                
                setTimeout(() => {
                    osc.stop();
                    osc.disconnect();
                }, releaseTime * 1000);

                activeNotes.delete(noteName);
            }
        }

        notes.forEach(item => {
            const key = document.createElement('div');
            key.className = `key ${item.type}-key`;
            key.innerHTML = `<span class="key-label">${item.note}</span>`;
            
            const handleStart = (e) => {
                e.preventDefault();
                if (audioCtx.state === 'suspended') audioCtx.resume();
                startNote(item.note, item.freq);
                key.classList.add('active');
            };

            const handleEnd = (e) => {
                e.preventDefault();
                stopNote(item.note);
                key.classList.remove('active');
            };

            key.addEventListener('touchstart', handleStart, {passive: false});
            key.addEventListener('touchend', handleEnd, {passive: false});
            key.addEventListener('touchcancel', handleEnd, {passive: false});
            key.addEventListener('mousedown', handleStart);
            key.addEventListener('mouseup', handleEnd);
            key.addEventListener('mouseleave', handleEnd);

            piano.appendChild(key);
        });

        function toggleLabels() {
            const labels = document.querySelectorAll('.key-label');
            labels.forEach(l => {
                l.style.opacity = (l.style.opacity === '0' || l.style.opacity === '') ? '1' : '0';
            });
        }

        function changeTone() {
            currentOscType = currentOscType === 'triangle' ? 'sine' : 'triangle';
            document.getElementById('toneBtn').innerText = currentOscType === 'triangle' ? 'Rich Tone' : 'Pure Tone';
        }

        function checkOrientation() {
            const overlay = document.getElementById('orientation-overlay');
            if (window.innerHeight > window.innerWidth) {
                overlay.style.display = 'flex';
            } else {
                overlay.style.display = 'none';
            }
        }

        window.addEventListener('resize', checkOrientation);
        window.addEventListener('load', checkOrientation);
    </script>
</body>
</html>

